Linux笔记
Linux之父：Linus Torvals
自由软件之父：Richard Stallman
Unix最大特点：付费，源代码不开放
Linux最大特点：不一定免费 （Redhat付费，centos免费），源代码开放
GNU目的：开发自由软件，不受限制自由使用，复制，修改，发布，研究。
常见的Linux的操作系统：Redhat（使用占比最高）
Redhat和centos的区别：Redhat在更新软件和系统的时候要付费。
Centos在Redhat的源代码基础上重新编译得到的（免费）

shell 壳 为用户提供使用操作系统的接口  shell解释器（解释用户的命令，然后交给底层运行） 命令语言 shell脚本
类型：sh（较早实现最基本的功能）   
Csh（使用C语言的语法风格）
   Ksh（兼容以上两者）
   Bash（大多数的Linux系统默认都使用bash）


命令提示符：[redu@localhost ~]$
[当前登录的用户@当前登录的主机的主机名 当前的工作文件目录]$ 
$表示当前登录的用户为普通用户 #管理员用户
~当前用户的主目录（家目录）



帮助命令：help man pinfo
Linux命令上万条
查看cat命令的方法：
1.	man cat
2.	cat Chelp
3.	pinfo cat

文件编辑：
I  编辑文件
按esc保存退出再按：输入wq

关闭和重启Linux：(只有管理员才能运行)
Shutdown（常用）poweroff  halt   reboot
shutdown [选项...]  [时间]  [警告...]

选项：
  --help         	查看帮助
  -H --halt       	 Halt the machine
  -P --poweroff  	 Power-off the machine
  -r --reboot     	 重启系统
  -h             	 关闭系统
  -k            	仅仅发出警告，不关机或者重启
  --no-wall    		不发出信息
  -c             	 取消发送将执行的shutdown命令




十分钟系统关机
Shutdown  -h +10
Shutdown  -h 10
Shutdown  10
Shutdown  +10
Shutdown  -h（默认一分钟以后关机）
马上重启：
Shutdown  -r  now
Shutdown  -r  0
Shutdown  -r  （默认一分钟以后关机）


3取消关机
Shutdown   -c



Linux系统语法格式：
一般：命令名   [选项1]   [选项2]…..<参数一>  <参数二>….
1.	命令名：由小写字母构成
2.	选项：是对命令的特别定义，一般以“-”开头多个选项可以共用一个“-”  
3.	参数：提供命令运行的一些信息，或者是命令执行过程中所使用的文件名
4.	命令 选项 参数之间必须有空格 

Linux下目录都遵循给定的一定的规范，至少12个目录
目录：创建，切换，删除，显示（mkdir，cd，rmdir，pwd）
/dev 
/etc:配置目录
/home
/root
/lib
/tmp：临时目录，重要文件不要放在这



mkdir ：-m或―mode<目录属性>建立目录时同时设置目录的权限
当前目录下创建一个隐藏文件：
mkdir  .test2


 -p或Cparents   若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录。
一次创建多个目录：mkdir test{1..10}
在tmp下创建dir目录：mkdir  /tmp/dir
d：directory（目录）
rwxr-xr-x  文件权限
r：
w：写
x：执行
-表示没有权限

第一个表示文件拥有者的权限（rwx）
第二个同组其他用户的权限（r-x）
第三个其他用户的权限（r-x）

444（8进制）二进制100 100 100
					  R―R―R--- 


cd切换到当前用户主目录
当前所在目录/home/admin
绝对路径：cd  /home/Admin/test
相对路径：cd  test

1.	“~”当前用户的主目录
2.	“.”当前所在的目录
3.	“..”当前上层目录
4.	“-”回退到上一次的目录
5.	cd  ~用户名
cd  ~user（切换到user的主目录）
cd = cd ~（切换到当前用户的主目录）


rmdir 只能删除空目录（rmdir  [选项]  目录）
rm-r 等于rmdir（但可以删除非空目录）

pwd显示当前工作目录的绝对路径

ls（列出文件和属性，但是包含隐藏文件）
ls file     列表file是否存在                             （file是文本文件）

ls  [选项]  [文件或目录]

-l 列出文件属性
-a 显示所有文件和目录
-A 显示所有文件和目录但不会显示“.”和“..”
-I 显示文件和inode编号

-rw-rw-r--. 1 redu redu  0 3月  18 19:33 file
“-”文件类型：文本文件
1：文件的硬连接数
redu:文件拥有者
redu：文件的所属组
0：文件的大小
3月  18 19:33：文件的创建时间或者修改时间
File：文件名
 

ls  -a(查看当前目录下的所有文件，默认查看当前目录)
ls  -A（同上）
ls  -i（文件或者目录都可以）




文件：
创建：touch 文件名的路径（如果文件已经存在则会修改访问时间）

复制：（复制文件或者目录）
		cp [选项]  <源文件或者目录>  <目标文件或目录>
		-f 强行复制文件，不论目标文件或者目录是否存在
		-I 覆盖前询问
		-n 不覆盖已存在的文件
		-u 只有在源文件比目标文件新或者不存在才进行
		-r  递归复制目录及其子目录中的文件
		-p  保留源文件的权限和所有者，组
		（-f CI Cm 同时出现，只是最后一个生效）
		Cp 文件  目录  直接复制
		Cp  文件  文件  复制过去重命名

		复制目录必须用 ―r
mv  移动，选项与复制一样
mv也可以进行重命名
mv  file1  file2（重命名）
mv  file1  test/file2（移动并重命名）

rm  【选项】 【文件】

-f 强制删除
-I  删除文件时会询问
-r  用于删除目录，删除目录下及下面的文件和子目录


Cat 【选项】 【文件名】

-n显示文件时对文件内容的每一行进行编号
-b 与-n相似但不对空白行编号
-s 对连续多个空白行合并为一个空白行
 
head  显示文件前几行内容或前几个字符

-n  num显示前num行的内容
-c  显示前num个字符

或者直接省略选项只写数字：head  Cn 3 file == head  -3  file

tail  显示文件后几行内容或者后几个字符 语法与head相同


more 显示原始文件但是只能向后翻页（逐页阅读）

less  显示原始文件，可以前后翻页
箭头可以翻页（一行一行的）
Pgup  pgdn（翻页）
按q退出阅读


创建链接文件Ln
Ln 【选项】 【源文件或目录】【目标文件或目录】
默认创建硬链接 ，相当于给文件创建了一个别名，不用选项默认使用硬链接
软连接  相当于一个快捷方式（使用-s创建软链接）
-i如果链接文件存在，覆盖时会询问
-f强制创建，覆盖
-s创建软连接

可以为文件或者目录创建软连接（移动，重命名，删除会造成断链）


源文件和硬链接文件对应的是同一个文件
可以给任意文件创建软连接
不允许给目录创建硬链接，只能给文本文件创建硬链接


创建一个一自己姓名的用户
Useradd  luo  chuangp9ng1
Passwd  罗




Touch 仅仅创建文件
Vi  文件不存在时则存盘时创建文件，最重要功能是编辑文本


打开文本编辑器什么都不做就是命令模式（按esc也可以进入命令模式）可以控制光标的移动字符字行的删除复制粘贴

按下i I o O a A都可以进入编辑模式对文字进行添加和修改

命令行模式（末行模式）：在命令模式中按：就可以进入可以对文本保存，查找替换的操作



Vi 常用命令：
命令模式：
光标移动：
Ctrl f 向下翻页
Ctrl b 向上翻页


H 光标移动到当前屏幕的最上面一行
M 光标移动到当前屏幕的中央一行
L  光标移动到当前屏幕的最下面一行
G 光标移动到文件的最后一行
nG 移动到第n行
n<enter>  光标从当前位置处向下移动n行
^或0光标移动到本行行首
$将光标移动到行尾
N<space>往右移动n个字符

dd删除光标所在的整行内容
ndd删除光标所在向下n行


编辑模式：i 在当前光标所在处插入输入的字符
I 在当前行的行首插入字符
a 当前光标所在的下一个字符插入
A 在当前行尾插入
o 下方插入一行
O 上方插入一行
r替换光标所在的字符
R 一直替换

命令行：
W  保存
W！强制保存只读文件
q  只有上次保存文件没有被修改才可以退出
q！强制退出
wq 保存并退出
wq！ 强制保存并退出
w 文件名 另存
r 文件名 读取并放在光标后
set nu 设置行号
set nonu 取消行号
复制：n1，n2 co n3从n1到n2的所有文本复制到n3之下
N1 co n2 将n1复制到n2行后面
移动：将co 换成m
删除：n1，n2  d删除n1到n2

替换：s/old/new 将当前行的第一个字符old 替换为new
s/old/new/g 将当前行中的所有old替换为new
%s/old/new/g 在整个文件中替换
N1，n2 s/old/new/g  n1到n2替换



Linux下  /etc/passwd   rw-r--r--
用户的配置文件（用户的基本信息）只有管理员才能进行用户管理


用户密码文件单独存放（管理员才能读，和管理） /etc/shaow   r------
密码使用hash加密
密码处理是单向的可以从原始密码推到hash密码但是反推不行。

用户分类：管理员用户（拥有所有系统权限，uid为0，对系统中的所有文件进行读写删执行，对磁盘分区，建立文件），

系统用户（安装系统是自动生成的用户），

自定义用户（只能在自己的目录下进行操作，只能操作自己的进程）

管理员在创建用户的时候会默认将此用户的基本信息文件写入  /etc/passwd



每一个用户属于一个或多个组，方便管理员对用户集中管理、

账户被锁定在密码字段前会多一个感叹号
且不能登录
